{"id":"rTj2","dependencies":[{"name":"/Users/peter/Desktop/step-03-wind-and-flowfield/package.json","includedInParent":true,"mtime":1631950073348},{"name":"simplex-noise","loc":{"line":1,"column":25},"parent":"/Users/peter/Desktop/step-03-wind-and-flowfield/src/Wind.js","resolved":"/Users/peter/Desktop/step-03-wind-and-flowfield/node_modules/simplex-noise/simplex-noise.js"},{"name":"three","loc":{"line":2,"column":31},"parent":"/Users/peter/Desktop/step-03-wind-and-flowfield/src/Wind.js","resolved":"/Users/peter/Desktop/step-03-wind-and-flowfield/node_modules/three/build/three.module.js"},{"name":"gsap","loc":{"line":3,"column":17},"parent":"/Users/peter/Desktop/step-03-wind-and-flowfield/src/Wind.js","resolved":"/Users/peter/Desktop/step-03-wind-and-flowfield/node_modules/gsap/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=n(require(\"simplex-noise\")),t=require(\"three\"),i=n(require(\"gsap\"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}var s=new e.default,a=2e3,l=.05,c=function(){function e(i){o(this,e);var n=i.geometry.attributes.position.count;this.figure=i,this.force=a/n,this.clock=new t.Clock,this.direction=new t.Vector3(.5,0,-1),this.flowfield=new Array(n),this.update(),this.bindEvents()}return u(e,[{key:\"bindEvents\",value:function(){window.addEventListener(\"mousemove\",this.onMouseMove.bind(this))}},{key:\"onMouseMove\",value:function(e){var t=e.clientX,n=e.clientY,o=window,r=o.innerWidth,u=o.innerHeight;i.default.to(this.direction,{duration:.8,x:t/r-.5,y:-n/u+.5})}},{key:\"update\",value:function(){for(var e=this.clock.getElapsedTime(),t=this.figure.geometry.attributes.position,i=this.figure.geometry.parameters.widthSegments,n=0;n<t.count;n++){var o=n%(i+1),r=Math.floor(n/(i+1)),u=(.5*s.noise3D(r*l,o*l,e)+.5)*this.force;this.flowfield[n]=this.direction.clone().multiplyScalar(u)}}}]),e}();exports.default=c;"},"sourceMaps":{"js":{"mappings":[{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":0}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":13}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":20}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":35}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":43}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":56}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":57}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":64}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":68}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":76}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":89}},{"source":"src/Wind.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"src/Wind.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"src/Wind.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"src/Wind.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"src/Wind.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"src/Wind.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"src/Wind.js","original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"src/Wind.js","original":{"line":2,"column":0},"generated":{"line":1,"column":135}},{"source":"src/Wind.js","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"src/Wind.js","original":{"line":3,"column":0},"generated":{"line":1,"column":146}},{"source":"src/Wind.js","original":{"line":3,"column":0},"generated":{"line":1,"column":148}},{"source":"src/Wind.js","original":{"line":3,"column":0},"generated":{"line":1,"column":156}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":165}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":174}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":176}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":179}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":186}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":189}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":191}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":202}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":204}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":205}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":213}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":216}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":225}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":227}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":229}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":232}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":237}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":250}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":253}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":259}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":263}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":273}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":310}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":319}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":321}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":323}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":326}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":330}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":334}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":336}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":338}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":340}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":342}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":349}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":353}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":354}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":358}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":360}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":362}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":365}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":367}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":378}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":380}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":393}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":395}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":397}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":411}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":413}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":423}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":427}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":429}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":439}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":442}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":449}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":464}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":466}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":468}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":472}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":476}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":485}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":487}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":489}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":491}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":494}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":501}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":504}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":506}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":508}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":518}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":521}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":524}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":526}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":528}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":531}},{"source":"src/Wind.js","original":{"line":5,"column":0},"generated":{"line":1,"column":533}},{"source":"src/Wind.js","name":"noise","original":{"line":5,"column":6},"generated":{"line":1,"column":537}},{"source":"src/Wind.js","original":{"line":5,"column":14},"generated":{"line":1,"column":539}},{"source":"src/Wind.js","name":"SimplexNoise","original":{"line":5,"column":18},"generated":{"line":1,"column":543}},{"source":"src/Wind.js","original":{"line":5,"column":14},"generated":{"line":1,"column":545}},{"source":"src/Wind.js","name":"baseForce","original":{"line":6,"column":6},"generated":{"line":1,"column":553}},{"source":"src/Wind.js","original":{"line":6,"column":18},"generated":{"line":1,"column":555}},{"source":"src/Wind.js","name":"off","original":{"line":7,"column":6},"generated":{"line":1,"column":559}},{"source":"src/Wind.js","original":{"line":7,"column":12},"generated":{"line":1,"column":561}},{"source":"src/Wind.js","name":"Wind","original":{"line":9,"column":21},"generated":{"line":1,"column":565}},{"source":"src/Wind.js","name":"Wind","original":{"line":9,"column":21},"generated":{"line":1,"column":567}},{"source":"src/Wind.js","name":"figure","original":{"line":10,"column":14},"generated":{"line":1,"column":578}},{"source":"src/Wind.js","name":"figure","original":{"line":10,"column":14},"generated":{"line":1,"column":587}},{"source":"src/Wind.js","name":"figure","original":{"line":10,"column":14},"generated":{"line":1,"column":589}},{"source":"src/Wind.js","original":{"line":10,"column":22},"generated":{"line":1,"column":592}},{"source":"src/Wind.js","original":{"line":10,"column":22},"generated":{"line":1,"column":594}},{"source":"src/Wind.js","original":{"line":10,"column":22},"generated":{"line":1,"column":599}},{"source":"src/Wind.js","name":"count","original":{"line":11,"column":12},"generated":{"line":1,"column":602}},{"source":"src/Wind.js","name":"count","original":{"line":11,"column":12},"generated":{"line":1,"column":606}},{"source":"src/Wind.js","name":"figure","original":{"line":11,"column":22},"generated":{"line":1,"column":608}},{"source":"src/Wind.js","name":"geometry","original":{"line":11,"column":29},"generated":{"line":1,"column":610}},{"source":"src/Wind.js","name":"attributes","original":{"line":11,"column":38},"generated":{"line":1,"column":619}},{"source":"src/Wind.js","name":"position","original":{"line":11,"column":49},"generated":{"line":1,"column":630}},{"source":"src/Wind.js","name":"count","original":{"line":11,"column":12},"generated":{"line":1,"column":639}},{"source":"src/Wind.js","name":"figure","original":{"line":12,"column":9},"generated":{"line":1,"column":645}},{"source":"src/Wind.js","name":"figure","original":{"line":12,"column":9},"generated":{"line":1,"column":650}},{"source":"src/Wind.js","name":"figure","original":{"line":12,"column":18},"generated":{"line":1,"column":657}},{"source":"src/Wind.js","name":"force","original":{"line":14,"column":9},"generated":{"line":1,"column":659}},{"source":"src/Wind.js","name":"force","original":{"line":14,"column":9},"generated":{"line":1,"column":664}},{"source":"src/Wind.js","name":"baseForce","original":{"line":14,"column":17},"generated":{"line":1,"column":670}},{"source":"src/Wind.js","name":"count","original":{"line":14,"column":29},"generated":{"line":1,"column":672}},{"source":"src/Wind.js","name":"clock","original":{"line":16,"column":9},"generated":{"line":1,"column":674}},{"source":"src/Wind.js","name":"clock","original":{"line":16,"column":9},"generated":{"line":1,"column":679}},{"source":"src/Wind.js","original":{"line":16,"column":17},"generated":{"line":1,"column":685}},{"source":"src/Wind.js","name":"Clock","original":{"line":16,"column":21},"generated":{"line":1,"column":689}},{"source":"src/Wind.js","original":{"line":16,"column":17},"generated":{"line":1,"column":691}},{"source":"src/Wind.js","name":"direction","original":{"line":17,"column":9},"generated":{"line":1,"column":697}},{"source":"src/Wind.js","name":"direction","original":{"line":17,"column":9},"generated":{"line":1,"column":702}},{"source":"src/Wind.js","original":{"line":17,"column":21},"generated":{"line":1,"column":712}},{"source":"src/Wind.js","name":"Vector3","original":{"line":17,"column":25},"generated":{"line":1,"column":716}},{"source":"src/Wind.js","original":{"line":17,"column":21},"generated":{"line":1,"column":718}},{"source":"src/Wind.js","original":{"line":17,"column":33},"generated":{"line":1,"column":726}},{"source":"src/Wind.js","original":{"line":17,"column":38},"generated":{"line":1,"column":729}},{"source":"src/Wind.js","original":{"line":17,"column":42},"generated":{"line":1,"column":732}},{"source":"src/Wind.js","name":"flowfield","original":{"line":18,"column":9},"generated":{"line":1,"column":735}},{"source":"src/Wind.js","name":"flowfield","original":{"line":18,"column":9},"generated":{"line":1,"column":740}},{"source":"src/Wind.js","original":{"line":18,"column":21},"generated":{"line":1,"column":750}},{"source":"src/Wind.js","name":"Array","original":{"line":18,"column":25},"generated":{"line":1,"column":754}},{"source":"src/Wind.js","name":"count","original":{"line":18,"column":31},"generated":{"line":1,"column":760}},{"source":"src/Wind.js","name":"update","original":{"line":20,"column":9},"generated":{"line":1,"column":763}},{"source":"src/Wind.js","name":"update","original":{"line":20,"column":9},"generated":{"line":1,"column":768}},{"source":"src/Wind.js","name":"bindEvents","original":{"line":22,"column":9},"generated":{"line":1,"column":777}},{"source":"src/Wind.js","name":"bindEvents","original":{"line":22,"column":9},"generated":{"line":1,"column":782}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":795}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":802}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":804}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":806}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":807}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":808}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":812}},{"source":"src/Wind.js","original":{"line":25,"column":2},"generated":{"line":1,"column":825}},{"source":"src/Wind.js","original":{"line":25,"column":2},"generated":{"line":1,"column":831}},{"source":"src/Wind.js","name":"window","original":{"line":26,"column":4},"generated":{"line":1,"column":842}},{"source":"src/Wind.js","name":"addEventListener","original":{"line":26,"column":11},"generated":{"line":1,"column":849}},{"source":"src/Wind.js","original":{"line":26,"column":28},"generated":{"line":1,"column":866}},{"source":"src/Wind.js","original":{"line":26,"column":41},"generated":{"line":1,"column":878}},{"source":"src/Wind.js","name":"onMouseMove","original":{"line":26,"column":46},"generated":{"line":1,"column":883}},{"source":"src/Wind.js","name":"bind","original":{"line":26,"column":58},"generated":{"line":1,"column":895}},{"source":"src/Wind.js","original":{"line":26,"column":63},"generated":{"line":1,"column":900}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":909}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":910}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":914}},{"source":"src/Wind.js","original":{"line":29,"column":2},"generated":{"line":1,"column":928}},{"source":"src/Wind.js","original":{"line":29,"column":2},"generated":{"line":1,"column":934}},{"source":"src/Wind.js","original":{"line":29,"column":42},"generated":{"line":1,"column":943}},{"source":"src/Wind.js","name":"x","original":{"line":29,"column":25},"generated":{"line":1,"column":946}},{"source":"src/Wind.js","name":"x","original":{"line":29,"column":25},"generated":{"line":1,"column":950}},{"source":"src/Wind.js","name":"clientX","original":{"line":29,"column":16},"generated":{"line":1,"column":952}},{"source":"src/Wind.js","name":"clientX","original":{"line":29,"column":16},"generated":{"line":1,"column":954}},{"source":"src/Wind.js","name":"y","original":{"line":29,"column":37},"generated":{"line":1,"column":962}},{"source":"src/Wind.js","name":"clientY","original":{"line":29,"column":28},"generated":{"line":1,"column":964}},{"source":"src/Wind.js","name":"clientY","original":{"line":29,"column":28},"generated":{"line":1,"column":966}},{"source":"src/Wind.js","name":"window","original":{"line":30,"column":46},"generated":{"line":1,"column":974}},{"source":"src/Wind.js","name":"window","original":{"line":30,"column":46},"generated":{"line":1,"column":976}},{"source":"src/Wind.js","name":"W","original":{"line":30,"column":24},"generated":{"line":1,"column":983}},{"source":"src/Wind.js","name":"innerWidth","original":{"line":30,"column":12},"generated":{"line":1,"column":985}},{"source":"src/Wind.js","name":"innerWidth","original":{"line":30,"column":12},"generated":{"line":1,"column":987}},{"source":"src/Wind.js","name":"H","original":{"line":30,"column":40},"generated":{"line":1,"column":998}},{"source":"src/Wind.js","name":"innerHeight","original":{"line":30,"column":27},"generated":{"line":1,"column":1000}},{"source":"src/Wind.js","name":"innerHeight","original":{"line":30,"column":27},"generated":{"line":1,"column":1002}},{"source":"src/Wind.js","name":"to","original":{"line":32,"column":9},"generated":{"line":1,"column":1014}},{"source":"src/Wind.js","name":"to","original":{"line":32,"column":9},"generated":{"line":1,"column":1016}},{"source":"src/Wind.js","name":"to","original":{"line":32,"column":9},"generated":{"line":1,"column":1024}},{"source":"src/Wind.js","original":{"line":32,"column":12},"generated":{"line":1,"column":1027}},{"source":"src/Wind.js","name":"direction","original":{"line":32,"column":17},"generated":{"line":1,"column":1032}},{"source":"src/Wind.js","original":{"line":32,"column":28},"generated":{"line":1,"column":1042}},{"source":"src/Wind.js","name":"duration","original":{"line":33,"column":6},"generated":{"line":1,"column":1043}},{"source":"src/Wind.js","original":{"line":33,"column":16},"generated":{"line":1,"column":1052}},{"source":"src/Wind.js","name":"x","original":{"line":34,"column":6},"generated":{"line":1,"column":1055}},{"source":"src/Wind.js","name":"x","original":{"line":34,"column":9},"generated":{"line":1,"column":1057}},{"source":"src/Wind.js","name":"W","original":{"line":34,"column":13},"generated":{"line":1,"column":1059}},{"source":"src/Wind.js","original":{"line":34,"column":17},"generated":{"line":1,"column":1061}},{"source":"src/Wind.js","name":"y","original":{"line":35,"column":6},"generated":{"line":1,"column":1064}},{"source":"src/Wind.js","name":"y","original":{"line":35,"column":11},"generated":{"line":1,"column":1067}},{"source":"src/Wind.js","name":"H","original":{"line":35,"column":15},"generated":{"line":1,"column":1069}},{"source":"src/Wind.js","original":{"line":35,"column":20},"generated":{"line":1,"column":1071}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":1078}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":1079}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":1083}},{"source":"src/Wind.js","original":{"line":39,"column":2},"generated":{"line":1,"column":1092}},{"source":"src/Wind.js","original":{"line":39,"column":2},"generated":{"line":1,"column":1098}},{"source":"src/Wind.js","original":{"line":45,"column":9},"generated":{"line":1,"column":1109}},{"source":"src/Wind.js","name":"time","original":{"line":40,"column":10},"generated":{"line":1,"column":1113}},{"source":"src/Wind.js","name":"time","original":{"line":40,"column":10},"generated":{"line":1,"column":1117}},{"source":"src/Wind.js","original":{"line":40,"column":17},"generated":{"line":1,"column":1119}},{"source":"src/Wind.js","name":"clock","original":{"line":40,"column":22},"generated":{"line":1,"column":1124}},{"source":"src/Wind.js","name":"getElapsedTime","original":{"line":40,"column":28},"generated":{"line":1,"column":1130}},{"source":"src/Wind.js","name":"position","original":{"line":42,"column":12},"generated":{"line":1,"column":1147}},{"source":"src/Wind.js","original":{"line":42,"column":25},"generated":{"line":1,"column":1149}},{"source":"src/Wind.js","name":"figure","original":{"line":42,"column":30},"generated":{"line":1,"column":1154}},{"source":"src/Wind.js","name":"geometry","original":{"line":42,"column":37},"generated":{"line":1,"column":1161}},{"source":"src/Wind.js","name":"attributes","original":{"line":42,"column":46},"generated":{"line":1,"column":1170}},{"source":"src/Wind.js","name":"position","original":{"line":42,"column":12},"generated":{"line":1,"column":1181}},{"source":"src/Wind.js","name":"size","original":{"line":43,"column":10},"generated":{"line":1,"column":1190}},{"source":"src/Wind.js","original":{"line":43,"column":17},"generated":{"line":1,"column":1192}},{"source":"src/Wind.js","name":"figure","original":{"line":43,"column":22},"generated":{"line":1,"column":1197}},{"source":"src/Wind.js","name":"geometry","original":{"line":43,"column":29},"generated":{"line":1,"column":1204}},{"source":"src/Wind.js","name":"parameters","original":{"line":43,"column":38},"generated":{"line":1,"column":1213}},{"source":"src/Wind.js","name":"widthSegments","original":{"line":43,"column":49},"generated":{"line":1,"column":1224}},{"source":"src/Wind.js","name":"i","original":{"line":45,"column":13},"generated":{"line":1,"column":1238}},{"source":"src/Wind.js","original":{"line":45,"column":17},"generated":{"line":1,"column":1240}},{"source":"src/Wind.js","name":"i","original":{"line":45,"column":20},"generated":{"line":1,"column":1242}},{"source":"src/Wind.js","name":"position","original":{"line":45,"column":24},"generated":{"line":1,"column":1244}},{"source":"src/Wind.js","name":"count","original":{"line":45,"column":33},"generated":{"line":1,"column":1246}},{"source":"src/Wind.js","name":"i","original":{"line":45,"column":40},"generated":{"line":1,"column":1252}},{"source":"src/Wind.js","original":{"line":45,"column":45},"generated":{"line":1,"column":1256}},{"source":"src/Wind.js","name":"col","original":{"line":46,"column":12},"generated":{"line":1,"column":1257}},{"source":"src/Wind.js","name":"col","original":{"line":46,"column":12},"generated":{"line":1,"column":1261}},{"source":"src/Wind.js","name":"i","original":{"line":46,"column":18},"generated":{"line":1,"column":1263}},{"source":"src/Wind.js","name":"size","original":{"line":46,"column":23},"generated":{"line":1,"column":1266}},{"source":"src/Wind.js","original":{"line":46,"column":30},"generated":{"line":1,"column":1268}},{"source":"src/Wind.js","name":"row","original":{"line":47,"column":12},"generated":{"line":1,"column":1271}},{"source":"src/Wind.js","name":"Math","original":{"line":47,"column":18},"generated":{"line":1,"column":1273}},{"source":"src/Wind.js","name":"floor","original":{"line":47,"column":23},"generated":{"line":1,"column":1278}},{"source":"src/Wind.js","name":"i","original":{"line":47,"column":29},"generated":{"line":1,"column":1284}},{"source":"src/Wind.js","name":"size","original":{"line":47,"column":34},"generated":{"line":1,"column":1287}},{"source":"src/Wind.js","original":{"line":47,"column":41},"generated":{"line":1,"column":1289}},{"source":"src/Wind.js","name":"force","original":{"line":49,"column":12},"generated":{"line":1,"column":1293}},{"source":"src/Wind.js","original":{"line":50,"column":53},"generated":{"line":1,"column":1296}},{"source":"src/Wind.js","name":"noise","original":{"line":50,"column":9},"generated":{"line":1,"column":1299}},{"source":"src/Wind.js","name":"noise3D","original":{"line":50,"column":15},"generated":{"line":1,"column":1301}},{"source":"src/Wind.js","name":"row","original":{"line":50,"column":23},"generated":{"line":1,"column":1309}},{"source":"src/Wind.js","name":"off","original":{"line":50,"column":29},"generated":{"line":1,"column":1311}},{"source":"src/Wind.js","name":"col","original":{"line":50,"column":34},"generated":{"line":1,"column":1313}},{"source":"src/Wind.js","name":"off","original":{"line":50,"column":40},"generated":{"line":1,"column":1315}},{"source":"src/Wind.js","name":"time","original":{"line":50,"column":45},"generated":{"line":1,"column":1317}},{"source":"src/Wind.js","original":{"line":50,"column":59},"generated":{"line":1,"column":1320}},{"source":"src/Wind.js","original":{"line":50,"column":66},"generated":{"line":1,"column":1324}},{"source":"src/Wind.js","name":"force","original":{"line":50,"column":71},"generated":{"line":1,"column":1329}},{"source":"src/Wind.js","name":"flowfield","original":{"line":52,"column":11},"generated":{"line":1,"column":1335}},{"source":"src/Wind.js","name":"flowfield","original":{"line":52,"column":11},"generated":{"line":1,"column":1340}},{"source":"src/Wind.js","name":"i","original":{"line":52,"column":21},"generated":{"line":1,"column":1350}},{"source":"src/Wind.js","original":{"line":52,"column":26},"generated":{"line":1,"column":1353}},{"source":"src/Wind.js","name":"direction","original":{"line":52,"column":31},"generated":{"line":1,"column":1358}},{"source":"src/Wind.js","name":"clone","original":{"line":52,"column":41},"generated":{"line":1,"column":1368}},{"source":"src/Wind.js","name":"multiplyScalar","original":{"line":52,"column":49},"generated":{"line":1,"column":1376}},{"source":"src/Wind.js","name":"force","original":{"line":52,"column":64},"generated":{"line":1,"column":1391}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":1399}},{"source":"src/Wind.js","name":"Wind","original":{"line":9,"column":21},"generated":{"line":1,"column":1401}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":1404}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":1412}},{"source":"src/Wind.js","original":{"line":54,"column":3},"generated":{"line":1,"column":1420}}],"sources":{"src/Wind.js":"import SimplexNoise from \"simplex-noise\";\nimport { Clock, Vector3 } from \"three\";\nimport gsap from \"gsap\";\n\nconst noise = new SimplexNoise();\nconst baseForce = 2000;\nconst off = 0.05;\n\nexport default class Wind {\n  constructor(figure) {\n    const { count } = figure.geometry.attributes.position;\n    this.figure = figure;\n\n    this.force = baseForce / count;\n\n    this.clock = new Clock();\n    this.direction = new Vector3(0.5, 0, -1);\n    this.flowfield = new Array(count);\n\n    this.update();\n\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    window.addEventListener(\"mousemove\", this.onMouseMove.bind(this));\n  }\n\n  onMouseMove({ clientX: x, clientY: y }) {\n    const { innerWidth: W, innerHeight: H } = window;\n\n    gsap.to(this.direction, {\n      duration: 0.8,\n      x: x / W - 0.5,\n      y: -(y / H) + 0.5\n    });\n  }\n\n  update() {\n    const time = this.clock.getElapsedTime();\n\n    const { position } = this.figure.geometry.attributes;\n    const size = this.figure.geometry.parameters.widthSegments;\n\n    for (let i = 0; i < position.count; i++) {\n      const col = i % (size + 1);\n      const row = Math.floor(i / (size + 1));\n\n      const force =\n        (noise.noise3D(row * off, col * off, time) * 0.5 + 0.5) * this.force;\n\n      this.flowfield[i] = this.direction.clone().multiplyScalar(force);\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"f377b3fc13cdbf9abf9c55d03eacac8f","cacheData":{"env":{}}}